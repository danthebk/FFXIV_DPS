<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Home</title>

    <!-- scripts -->
    <script src="Scripts/jquery-3.5.1.js"></script>
    <script src="Scripts/angular.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <!-- bootstrap -->
    <link href="boostrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="boostrap/js/bootstrap.min.js"></script>

    <!-- content -->
    <script src="Scripts/dps_helpers.js"></script>
    <script src="Scripts/dps_main.js"></script>
    <script src="Scripts/dps_controller.js"></script>
    <script src="Scripts/dps_model.js"></script>
    <script src="Scripts/dps_charts.js"></script>

    <script src="Scripts/main.js"></script>
    <link href="Content/main.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div data-ng-app="dps_app" data-ng-controller="dps_controller">
        <!-- --------------------------------------------------------------------- -->
        <!-- help -->
        <!-- --------------------------------------------------------------------- -->
        <div class="accordion" id="help_accordion">
            <div class="card">
                <div class="card-header" role="tab" id="help_heading">
                    <h2 class="mb-0">
                        <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-parent="#help_accordion" href="#help_collapse" aria-controls="collapse">
                            Help
                        </button>
                    </h2>
                </div>
                <div id="help_collapse" class="border collapse" role="tabpanel" aria-labelledby="help_heading">
                    <ul>
                        <li>
                            Sources and tools
                            <ul>
                                <li>
                                    <a href="http://allaganstudies.akhmorning.com/" target="_blank">http://allaganstudies.akhmorning.com/</a>
                                </li>
                                <li>
                                    <a href="https://ffxiv.ariyala.com/" target="_blank">https://ffxiv.ariyala.com/</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            Notes
                            <ul>
                                <li>
                                    Calculations are based on a character at level 80. All base values (indicated by an information value) are different for lower levels.
                                </li>
                                <li>
                                    This tool is only useful for comparing the secondary stats on equipment assuming they have the same item level. Generally, an item with a higher item level will almost always result in more DPS.
                                </li>
                                <li class="font-weight-bold">
                                    General priorities for secondary stats at level 80
                                    <ul>
                                        <li>
                                            1. Critical Hit = Skill speed up to your next GCD.<br />
                                            Three skill speed materia should always result in a .01 increase to your GCD.
                                            Any situation where only one or two materia will result in a .01 increase
                                            is almost exactly as valuable as a critical hit materia.
                                        </li>
                                        <li>
                                            2. Direct hit - up to rougly 2000.<br />
                                            After 2000, each point in direct hit is rougly equal to determination and experiences diminishing returns.<br />
                                            From my experiements, an argument can be made for 2200 if a Bard is not present in the party.
                                        </li>
                                        <li>
                                            3. Determination - up to rougly 2000.<br />
                                            After 2000, each point in determination is roughly equal to direct hit and experiences diminishing returns.
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <!--<li>
                            Table Background Colors
                            <ul>
                                <li class="{{ui_color.info}}">
                                    An information value. These are values that do not change with gear and are constants at level 80.
                                </li>
                                <li class="{{ui_color.better}}">
                                    A higher value.
                                </li>
                                <li class="{{ui_color.neutral}}">
                                    An equal or neutral value.
                                </li>
                                <li class="{{ui_color.worse}}">
                                    A lower value.
                                </li>
                            </ul>
                        </li>-->
                        <li>
                            Stats
                            <ul>
                                <li>
                                    Textboxes - Input your secondary stat information as presented in your Character window.
                                </li>
                                <li>
                                    Delta - The difference between the gear stats and the character's base stats. These are the values actually being used during damage calculations.<br />
                                    At level 80, stats have a base value of 380 (340 for determination) which determines the dps floor. The base values do not have any affect on the calculations.<br />
                                    A base 380 direct hit will result in a 0% direct hit rate; 380 critical hit will result in a 5% rate and 40% damage; and 380 skill/spell speed will result in a 2.5 second delay.
                                </li>
                                <li class="{{ui_color.info}}">
                                    Information fields - These fields are static and unique to level 80 and determine damage calculations. These values are different at levels 50/60/70.
                                </li>
                            </ul>
                        </li>
                        <li>
                            Materia
                            <ul>
                                <li>
                                    I added a quick materia functionality since accounting for materia changes was the most frequent usage for this application.<br />
                                    I found it easier to just press a button than to recalculate my stats for each materia I want to adjust.
                                </li>
                                <li>
                                    <button id="btnAddMateriaHelp" class="btn btn-sm btn-primary btnMateria">
                                        +
                                    </button>
                                    - adds the value of the selected materia.
                                </li>
                                <li>
                                    <button id="btnSubtractMateriaHelp" class="btn btn-sm btn-primary btnMateria">
                                        -
                                    </button>
                                    - subtracts the value of the selected materia.
                                </li>

                            </ul>
                        </li>
                        <li>
                            Food
                            <ul>
                                <li>
                                    Quick food option - select the food from the drop down list to automatically calcuate.<br />
                                    I found it easier to select my food from a drop down than recalcuating my stats for each food I want to try.
                                </li>
                            </ul>
                        </li>
                        <li>
                            Buttons
                            <ul>
                                <li>
                                    Archive - Stores the current stats into an archived model to use for comparisons.
                                </li>
                                <li>
                                    Revert - Retreives the archived model and sets the values to the current stats.
                                </li>
                            </ul>
                        </li>
                        <li>
                            Future update priorities
                            <ul>
                                <li>
                                    Accounting for differences between both weapon damage and primary stats (strength, dexterity, intelligence, and mind).
                                </li>
                                <li>
                                    Accounting for oGCD abilities. Currently, jobs with more frequent oGCD usage will be underestimated
                                    for critical hit, direct hit, and determination and overestimated for skill speed.
                                </li>
                                <li>
                                    Allowing the user to adjust timings on buff windows. Currently, buffs are used immediately on cooldown.
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <br />

        <!-- --------------------------------------------------------------------- -->
        <!-- buffs -->
        <!-- --------------------------------------------------------------------- -->
        <div class="accordion" id="buffs_accordion">
            <div class="card">
                <div class="card-header" role="tab" id="buffs_heading">
                    <h2 class="mb-0">
                        <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-parent="#buffs_accordion" href="#buffs_collapse" aria-controls="collapse">
                            Buffs
                        </button>
                    </h2>
                </div>
                <div id="buffs_collapse" class="border collapse" role="tabpanel" aria-labelledby="buffs_heading">
                    <div class="table">
                        <br />
                        <div class="row">
                            <div class="col-3 border">
                                Buffs with white borders are individual buffs and do not affect other jobs.
                                These should only be selected if you are playing the job they belong to.
                            </div>
                            <div class="col-3 border table-success">
                                Buffs with a green background are raid wide buffs and are useful as long as the job is in the party.
                            </div>
                            <div class="table-warning border col-3">
                                Buffs with a yellow background only give a DPS buff.
                                Since gear considerations are unaffected by DPS buffs,
                                these buffs are functionally useless for the purpose of this calculator.
                            </div>
                        </div>
                        <!-- --------------------------------------------------------------------- -->
                        <!-- warrior -->
                        <!-- --------------------------------------------------------------------- -->
                        <br />
                        <div class="row">
                            <div class="col-12">
                                <span class="font-weight-bold">
                                    Warrior
                                </span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="border col-3">
                                <input id="chkInnerRelease" type="checkbox" ng-model="stats_main.innerrelease" ng-change="stats_change()" /> Inner Release <br />
                                100% Critical Hit Rate, 100% Direct Hit Rate <br />
                                Duration: 10 seconds; Recast: 90 seconds.
                            </div>
                            <div class="table-warning border col-3">
                                <input id="chkStormsEye" type="checkbox" ng-model="stats_main.stormseye" ng-change="stats_change()" /> Storm's Eye <br />
                                10% DPS <br />
                                Duration: 30 seconds; Recast: 30 seconds.
                            </div>
                        </div>
                        <!-- --------------------------------------------------------------------- -->
                        <!-- dragoon -->
                        <!-- --------------------------------------------------------------------- -->
                        <br />
                        <div class="row">
                            <div class="col-12">
                                <span class="font-weight-bold">
                                    Dragoon
                                </span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="border col-3 table-success">
                                <input id="chkBattleLittany" type="checkbox" ng-model="stats_main.battlelittany" ng-change="stats_change()" /> Battle Littany <br />
                                10% Critical Hit Rate<br />
                                Duration: 20 seconds; Recast: 180 seconds.
                            </div>
                            <div class="table-warning border col-3">
                                <input id="chkDisembowel" type="checkbox" ng-model="stats_main.disembowel" ng-change="stats_change()" /> Disembowel <br />
                                10% DPS<br />
                                Duration: 30 seconds; Recast: 30 seconds.
                            </div>
                            <div class="table-warning border col-3">
                                <input id="chkLanceCharge" type="checkbox" ng-model="stats_main.lancecharge" ng-change="stats_change()" /> Lance Charge <br />
                                15% DPS<br />
                                Duration: 20 seconds; Recast: 90 seconds.
                            </div>
                            <div class="table-warning border col-3">
                                <input id="chkDragonSight" type="checkbox" ng-model="stats_main.dragonsight" ng-change="stats_change()" /> Dragon Sight <br />
                                5% DPS<br />
                                Duration: 20 seconds; Recast: 120 seconds. <br />
                                <span class="table-danger">NOT IMPLEMENTED CORRECTLY</span>
                            </div>
                        </div>
                        <!-- --------------------------------------------------------------------- -->
                        <!-- ninja -->
                        <!-- --------------------------------------------------------------------- -->
                        <br />
                        <div class="row">
                            <div class="col-12">
                                <span class="font-weight-bold">
                                    Ninja
                                </span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="border col-3">
                                <input id="chkHuton" type="checkbox" ng-model="stats_main.huton" ng-change="stats_change()" /> Huton <br />
                                15% Delay Reduction <br />
                                Duration: 70 seconds; Recast: 70 seconds.
                            </div>
                            <div class="table-warning border col-3">
                                <input id="chkTrickAttack" type="checkbox" ng-model="stats_main.trickattack" ng-change="stats_change()" /> Trick Attack <br />
                                5% DPS <br />
                                Duration: 15 seconds; Recast: 60 seconds.
                            </div>
                        </div>
                        <!-- --------------------------------------------------------------------- -->
                        <!-- samurai -->
                        <!-- --------------------------------------------------------------------- -->
                        <br />
                        <div class="row">
                            <div class="col-12">
                                <span class="font-weight-bold">
                                    Samurai
                                </span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="border col-3">
                                <input id="chkShifu" type="checkbox" ng-model="stats_main.shifu" ng-change="stats_change()" /> Shifu <br />
                                13% Delay Reduction <br />
                                Duration: 40 seconds; Recast: 40 seconds.
                            </div>
                            <div class="table-warning border col-3">
                                <input id="chkShifu" type="checkbox" ng-model="stats_main.jinpu" ng-change="stats_change()" /> Jinpu <br />
                                13% DPS <br />
                                Duration: 40 seconds; Recast: 40 seconds.
                            </div>
                        </div>
                        <!-- --------------------------------------------------------------------- -->
                        <!-- bard -->
                        <!-- --------------------------------------------------------------------- -->
                        <br />
                        <div class="row">
                            <div class="col-12">
                                <span class="font-weight-bold">
                                    Bard
                                </span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="border col-3 table-success">
                                <input id="chkWanderersMinuet" type="checkbox" ng-model="stats_main.wanderersminuet" ng-change="stats_change()" /> Wanderer's Minuet<br />
                                <input id="chkWanderersMinuetShort" type="checkbox" ng-model="stats_main.wanderersminuetShort" ng-change="stats_change()" /> 20 Second Duration <br />
                                Priority <input id="chkWanderersMinuetnPriority" class="form-control-sm" type="number" ng-model="stats_main.wanderersminuetPriority" ng-change="stats_change()" /> <br />
                                2% Critical Hit Rate <br />
                                Duration: 30 seconds; Recast: 80 seconds.
                            </div>
                            <div class="border col-3 table-success">
                                <input id="chkMagesBallad" type="checkbox" ng-model="stats_main.magesballad" ng-change="stats_change()" /> Mage's Ballad <br />
                                <input id="chkMagesBalladShort" type="checkbox" ng-model="stats_main.magesballadShort" ng-change="stats_change()" /> 20 Second Duration <br />
                                Priority <input id="chkMagesBalladPriority" class="form-control-sm" type="number" ng-model="stats_main.magesballadPriority" ng-change="stats_change()" /> <br />
                                <span class="table-warning">1% DPS</span> <br />
                                Duration: 30 seconds; Recast: 80 seconds.
                            </div>
                            <div class="border col-3 table-success">
                                <input id="chkArmysPaeon" type="checkbox" ng-model="stats_main.armyspaeon" ng-change="stats_change()" /> Army's Paeon <br />
                                <input id="chkArmysPaeonShort" type="checkbox" ng-model="stats_main.armyspaeonShort" ng-change="stats_change()" /> 20 Second Duration <br />
                                Priority <input id="chkArmysPaeonPriority" class="form-control-sm" type="number" ng-model="stats_main.armyspaeonPriority" ng-change="stats_change()" /> <br />
                                3% Direct Hit Rate <br />
                                Duration: 30 seconds; Recast: 80 seconds.
                            </div>
                            <div class="border col-3 table-success">
                                <input id="chkBattleVoice" type="checkbox" ng-model="stats_main.battlevoice" ng-change="stats_change()" /> Battle Voice <br />
                                20% Direct Hit Rate <br />
                                Duration: 20 seconds; Recast: 180 seconds.
                            </div>
                        </div>
                        <!-- --------------------------------------------------------------------- -->
                        <!-- red mage -->
                        <!-- --------------------------------------------------------------------- -->
                        <br />
                        <div class="row">
                            <div class="col-12">
                                <span class="font-weight-bold">
                                    Red Mage
                                </span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="table-warning border col-3">
                                <input id="chkEmbolden" type="checkbox" ng-model="stats_main.embolden" ng-change="stats_change()" /> Embolden <br />
                                10% DPS <br />
                                Duration: 20 seconds; Recast: 120 seconds. <br />
                                <span class="table-danger">NOT IMPLEMENTED CORRECTLY</span>
                            </div>
                        </div>
                        <!-- --------------------------------------------------------------------- -->
                        <!-- white mage -->
                        <!-- --------------------------------------------------------------------- -->
                        <br />
                        <div class="row">
                            <div class="col-12">
                                <span class="font-weight-bold">
                                    White Mage
                                </span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="border col-3">
                                <input id="chkPresenceOfMind" type="checkbox" ng-model="stats_main.presenceofmind" ng-change="stats_change()" /> Presence of Mind <br />
                                20% Delay Reduction<br />
                                Duration: 15 seconds; Recast: 150 seconds.
                            </div>
                        </div>
                        <!-- --------------------------------------------------------------------- -->
                        <!-- scholar -->
                        <!-- --------------------------------------------------------------------- -->
                        <br />
                        <div class="row">
                            <div class="col-12">
                                <span class="font-weight-bold">
                                    Scholar
                                </span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="border col-3 table-success">
                                <input id="chkChainStrategem" type="checkbox" ng-model="stats_main.chainstratagem" ng-change="stats_change()" /> Chain Strategem <br />
                                10% Critical Hit Rate<br />
                                Duration: 15 seconds; Recast: 120 seconds.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br />

        <!-- --------------------------------------------------------------------- -->
        <!-- main -->
        <!-- --------------------------------------------------------------------- -->
        <div class="table">
            <div class="row bg-dark">
                <hr />
            </div>
            <br />
            <div class="row">
                <div class="border col-12">
                    <span class="font-weight-bold">
                        Fight Duration
                    </span>
                    <br />
                    <input type="number" class="form-control-sm" data-ng-change="stats_change()" data-ng-model="stats_main.fightduration" id="fightduration" />
                    <span class="font-weight-bold">
                        seconds
                    </span>
                    <br />
                    <br />
                </div>
            </div>
            <div class="row">
                <div class="border col-12" id="chart_mainBuffTimeline"></div>
            </div>
            <div class="row">
                <div class="border col-1 {{ui.primary_main}}">
                    <span class="font-weight-bold">
                        Weapon Dmg
                    </span>
                    <br />
                    <input type="number" class="form-control-sm txtWeapon" data-ng-change="stats_change()" data-ng-model="stats_main.weapondamage" id="txtWeaponDamage" />
                </div>
                <div class="border col-1 {{ui.primary_main}}">
                    <span class="font-weight-bold">
                        Weapon Attack
                    </span>
                    <br />
                    <input type="number" class="form-control-sm txtWeapon" data-ng-change="stats_change()" data-ng-model="stats_main.weaponattack" id="txtWeaponAttack" />
                </div>
                <div class="border col-1 {{ui.primary_main}}">
                    <span class="font-weight-bold">
                        Weapon Delay
                    </span>
                    <br />
                    <input type="number" class="form-control-sm txtWeapon" data-ng-change="stats_change()" data-ng-model="stats_main.weapondelay" id="txtWeaponDelay" />
                </div>
                <div class="border col-1 {{ui.primary_main}}">
                    <span class="font-weight-bold">
                        Primary Stat
                    </span>
                    <br />
                    <input type="number" class="form-control-sm txtWeapon" data-ng-change="stats_change()" data-ng-model="stats_main.primarystat" id="txtPrimaryStat" />
                </div>
                <div class="border col-2 {{ui.primary_main}}">
                    <span class="font-weight-bold">
                        Primary Stat Delta
                    </span>
                    <br />
                    <span>
                        {{stats_main.primarystatDelta}}
                    </span>
                </div>
                <div class="border col-1 {{ui.primary_main}}">
                    <span class="font-weight-bold">
                        f(WD)
                    </span>
                    <br />
                    <span>
                        {{stats_main.fweapondamage}}
                    </span>
                </div>
                <div class="border col-1 {{ui.primary_main}}">
                    <span class="font-weight-bold">
                        Attack Damage
                    </span>
                    <br />
                    <span>
                        {{stats_main.attackdamage}}
                    </span>
                </div>
                <div class="border col-1 {{ui.primary_main}}">
                    <span class="font-weight-bold">
                        Base Damage
                    </span>
                    <br />
                    <span>
                        {{stats_main.baseDamage.toFixed(0)}}
                    </span>
                </div>
                <div class="col-1 {{ui.primary_main}}">
                    <span class="font-weight-bold">
                        AA DPS
                    </span>
                    <br />
                    <span>
                        {{stats_main.autoattackDPS.toFixed(0)}}
                    </span>
                </div>
                <div class="border col-2 {{ui.primary_main}}">
                    <span class="font-weight-bold">
                        Base DPS
                    </span>
                    <br />
                    <span>
                        {{stats_main.baseDPS.toFixed(0)}}
                    </span>
                </div>
            </div>
            <div class="row">
                <div class="border col-2">
                    <span class="font-weight-bold">
                        Critical Hit Materia
                    </span>
                    <br />
                    <button id="btnCriticalAdd" class="btn btn-sm btn-primary btnMateria" ng-click="materia_add(stats_indexes.critical)">
                        +
                    </button>
                    <select id="cmbCriticalHit" class="form-control-sm" ng-model="materia_selected.critical" ng-options="x.value as x.tier for x in materia">
                    </select>
                    <button id="btnCriticalSubtract" class="btn btn-sm btn-primary btnMateria" ng-click="materia_subtract(stats_indexes.critical)">
                        -
                    </button>
                </div>
                <div class="border col-2 {{ui.critical_main}}">
                    <span class="font-weight-bold">
                        Critical Hit
                    </span>
                    <br />
                    <input type="number" class="form-control-sm" data-ng-change="stats_change()" data-ng-model="stats_main.critical" id="txtCriticalHit" />
                </div>
                <div class="border col-2 {{ui.critical_main}}">
                    <span class="font-weight-bold">
                        Critical Hit Delta
                    </span>
                    <br />
                    <span>
                        {{stats_main.criticalDelta}}
                    </span>
                </div>
                <div class="border col-1 {{ui.critical_main}}">
                    <span class="font-weight-bold">
                        Rate
                    </span>
                    <br />
                    <span>
                        {{stats_main.criticalRate.toFixed(2)}}%
                    </span>
                </div>
                <div class="border col-1 {{ui.critical_main}}">
                    <span class="font-weight-bold">
                        Damage
                    </span>
                    <br />
                    <span>
                        {{stats_main.criticalDamage.toFixed(2)}}%
                    </span>
                </div>
                <div class="col-1">
                </div>
                <div class="border col-1 {{ui.critical_main}}">
                    <span class="font-weight-bold">
                        Critical Hit DPS
                    </span>
                    <br />
                    <span>
                        {{stats_main.criticalDPS.toFixed(2)}}%
                    </span>
                </div>
                <div class="col-2">
                </div>
            </div>
            <div class="row">
                <div class="border col-2">
                    <span class="font-weight-bold">
                        Determination Materia
                    </span>
                    <br />
                    <button id="btnDeterminationAdd" class="btn btn-sm btn-primary btnMateria" ng-click="materia_add(stats_indexes.determination)">
                        +
                    </button>
                    <select id="cmbDetermination" class="form-control-sm" ng-model="materia_selected.determination" ng-options="x.value as x.tier for x in materia">
                    </select>
                    <button id="btnDeterminationSubtract" class="btn btn-sm btn-primary btnMateria" ng-click="materia_subtract(stats_indexes.determination)">
                        -
                    </button>
                </div>
                <div class="border col-2 {{ui.determination_main}}">
                    <span class="font-weight-bold">
                        Determination
                    </span>
                    <br />
                    <input type="number" class="form-control-sm" data-ng-change="stats_change()" data-ng-model="stats_main.determination" id="txtDetermination" />
                </div>
                <div class="border col-2 {{ui.determination_main}}">
                    <span class="font-weight-bold">
                        Determination Delta
                    </span>
                    <br />
                    <span>
                        {{stats_main.determinationDelta}}
                    </span>
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="border col-1 {{ui.determination_main}}">
                    <span class="font-weight-bold">
                        Det DPS
                    </span>
                    <br />
                    <span>
                        {{((stats_main.determinationDPS - 1) * 100).toFixed(3)}}%
                    </span>
                </div>
                <div class="col-2">
                </div>
            </div>
            <div class="row">
                <div class="border col-2">
                    <span class="font-weight-bold">
                        Direct Hit Materia
                    </span>
                    <br />
                    <button id="btnDirectHitAdd" class="btn btn-sm btn-primary btnMateria" ng-click="materia_add(stats_indexes.directhit)">
                        +
                    </button>
                    <select id="cmbDirectHit" class="form-control-sm" ng-model="materia_selected.directhit" ng-options="x.value as x.tier for x in materia">
                    </select>
                    <button id="btnDirectHitSubtract" class="btn btn-sm btn-primary btnMateria" ng-click="materia_subtract(stats_indexes.directhit)">
                        -
                    </button>
                </div>
                <div class="border col-2 {{ui.directhit_main}}">
                    <span class="font-weight-bold">
                        Direct Hit
                    </span>
                    <br />
                    <input type="number" class="form-control-sm" data-ng-change="stats_change()" data-ng-model="stats_main.directhit" id="txtDirectHit" />
                </div>
                <div class="border col-2 {{ui.directhit_main}}">
                    <span class="font-weight-bold">
                        Direct Hit Delta
                    </span>
                    <br />
                    <span>
                        {{stats_main.directhitDelta}}
                    </span>
                </div>
                <div class="border col-1 {{ui.directhit_main}}">
                    <span class="font-weight-bold">
                        Rate
                    </span>
                    <br />
                    <span>
                        {{stats_main.directhitRate.toFixed(2)}}%
                    </span>
                </div>
                <div class="border col-1 {{ui_color.info}}">
                    <span class="font-weight-bold">
                        Damage
                    </span>
                    <br />
                    <span>
                        {{base_stats.directhitBaseDamage}}%
                    </span>
                </div>
                <div class="col-1">
                </div>
                <div class="border col-1 {{ui.directhit_main}}">
                    <span class="font-weight-bold">
                        Direct Hit DPS
                    </span>
                    <br />
                    <span>
                        {{stats_main.directhitDPS.toFixed(2)}}%
                    </span>
                </div>
                <div class="col-2">
                </div>
            </div>
            <div class="row">
                <div class="border col-2">
                    <span class="font-weight-bold">
                        Skill/Spell Speed Materia
                    </span>
                    <br />
                    <button id="btnSkillSpeedAdd" class="btn btn-sm btn-primary btnMateria" ng-click="materia_add(stats_indexes.skillspeed)">
                        +
                    </button>
                    <select id="cmbSkillSpeed" class="form-control-sm" ng-model="materia_selected.skillspeed" ng-options="x.value as x.tier for x in materia">
                    </select>
                    <button id="btnSkillSpeedSubtract" class="btn btn-sm btn-primary btnMateria" ng-click="materia_subtract(stats_indexes.skillspeed)">
                        -
                    </button>
                </div>
                <div class="border col-2 {{ui.skillspeed_main}}">
                    <span class="font-weight-bold">
                        Skill/Spell Speed
                    </span>
                    <br />
                    <input type="number" class="form-control-sm" data-ng-change="stats_change()" data-ng-model="stats_main.skillspeed" id="txtSkillSpeed" />
                </div>
                <div class="border col-2 {{ui.skillspeed_main}}">
                    <span class="font-weight-bold">
                        Skill/Spell Speed Delta
                    </span>
                    <br />
                    <span>
                        {{stats_main.skillspeedDelta}}
                    </span>
                </div>
                <div class="border col-1 {{ui.skillspeed_main}}">
                    <span class="font-weight-bold">
                        Delay
                    </span>
                    <br />
                    <span>
                        {{stats_main.skillspeedDelay}}
                    </span>
                </div>
                <div class="border col-1">
                    <span class="font-weight-bold">
                        Hits
                    </span>
                    <br />
                    <span>
                        {{stats_main.skillspeedHits}}
                    </span>
                </div>
                <div class="col-1">
                </div>
                <div class="border col-1 {{ui.skillspeed_main}}">
                    <span class="font-weight-bold">
                        SKS DPS
                    </span>
                    <br />
                    <span>
                        {{stats_main.skillspeedDPSImprovement.toFixed(2)}}%
                    </span>
                </div>
                <div class="col-2">
                </div>
            </div>
            <div class="row">
                <div class="border col-2">
                    <span class="font-weight-bold">
                        Tenacity Materia
                    </span>
                    <br />
                    <button id="btnTenacityAdd" class="btn btn-sm btn-primary btnMateria" ng-click="materia_add(stats_indexes.tenacity)">
                        +
                    </button>
                    <select id="cmbTenacity" class="form-control-sm" ng-model="materia_selected.tenacity" ng-options="x.value as x.tier for x in materia">
                    </select>
                    <button id="btnTenacitySubtract" class="btn btn-sm btn-primary btnMateria" ng-click="materia_subtract(stats_indexes.tenacity)">
                        -
                    </button>
                </div>
                <div class="border col-2 {{ui.tenacity_main}}">
                    <span class="font-weight-bold">
                        Tenacity
                    </span>
                    <br />
                    <input type="number" class="form-control-sm" data-ng-change="stats_change()" data-ng-model="stats_main.tenacity" id="txtTenacity" />
                </div>
                <div class="border col-2 {{ui.tenacity_main}}">
                    <span class="font-weight-bold">
                        Tenacity Delta
                    </span>
                    <br />
                    <span>
                        {{stats_main.tenacityDelta}}
                    </span>
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="border col-1 {{ui.tenacity_main}}">
                    <span class="font-weight-bold">
                        Tenacity DPS
                    </span>
                    <br />
                    <span>
                        {{((stats_main.tenacityDPS - 1) * 100).toFixed(3)}}%
                    </span>
                </div>
                <div class="col-2">
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    <span class="font-weight-bold">
                        Food
                    </span>
                    <br />
                    <select id="cmbFood" class="form-control-sm" ng-change="stats_change()" ng-model="stats_main.food_selected" ng-options="x.name for x in food">
                    </select>
                </div>
                <div class="col-2">
                    <span class="font-weight-bold">
                        {{stats_main.food_selected.name}}
                    </span>
                    <br />
                    <span>
                        {{stats_main.food_stat1}}
                    </span>
                    <span>
                        {{stats_main.food_value1}}
                    </span>
                    <br />
                    <span>
                        {{stats_main.food_stat2}}
                    </span>
                    <span>
                        {{stats_main.food_value2}}
                    </span>
                </div>
                <div class="border col-2 {{ui_color.info}}">
                    <span class="font-weight-bold">
                        Level Primary:
                    </span>
                    <span>
                        {{base_stats.levelPrimary}}
                    </span>
                    <br />
                    <span class="font-weight-bold">
                        Level Secondary:
                    </span>
                    <span>
                        {{base_stats.levelSecondary}}
                    </span>
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="border col-1 {{ui.total_main}}">
                    <span class="font-weight-bold">
                        Total DPS
                    </span>
                    <br />
                    <span>
                        {{stats_main.totaldps.toFixed(2)}}%
                    </span>
                </div>
                <div class="border col-2 {{ui.total_main}}">
                    <span class="font-weight-bold">
                        Total Base DPS
                    </span>
                    <br />
                    <span>
                        {{stats_main.baseTotal.toFixed(2)}}
                    </span>
                </div>
            </div>
            <!-- --------------------------------------------------------------------- -->
            <!-- buttons -->
            <!-- --------------------------------------------------------------------- -->
            <br />
            <div class="row">
                <div class="col-2">
                    <button class="btn btn-primary form-control btnArchive" data-ng-click="archive_save()">
                        Archive
                    </button>
                </div>
                <div class="col-2">
                </div>
                <div class="col-2">
                </div>
                <div class="col-2">
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="col-2">
                    <button class="btn btn-primary form-control btnArchive" data-ng-click="archive_revert()">
                        Revert
                    </button>
                </div>
            </div>
            <br />
            <div class="row bg-dark">
                <hr />
            </div>
            <br />
            <!-- --------------------------------------------------------------------- -->
            <!-- archive -->
            <!-- --------------------------------------------------------------------- -->
            <div class="row">
                <div class="border col-12">
                    <span class="font-weight-bold">
                        Fight Duration:
                    </span>
                    <span>
                        {{stats_archive.fightduration}}
                    </span>
                    <span>
                        seconds
                    </span>
                    <br />
                    <br />
                </div>
            </div>
            <div class="row">
                <div class="border col-12" id="chart_archiveBuffTimeline"></div>
            </div>
            <div class="row">
                <div class="border col-1 {{ui.primary_archive}}">
                    <span class="font-weight-bold">
                        Weapon Dmg
                    </span>
                    <br />
                    <span>
                        {{stats_archive.weapondamage}}
                    </span>
                </div>
                <div class="border col-1 {{ui.primary_archive}}">
                    <span class="font-weight-bold">
                        Weapon Attack
                    </span>
                    <br />
                    <span>
                        {{stats_archive.weaponattack}}
                    </span>
                </div>
                <div class="border col-1 {{ui.primary_archive}}">
                    <span class="font-weight-bold">
                        Weapon Delay
                    </span>
                    <br />
                    <span>
                        {{stats_archive.weapondelay}}
                    </span>
                </div>
                <div class="border col-1 {{ui.primary_archive}}">
                    <span class="font-weight-bold">
                        Primary Stat
                    </span>
                    <br />
                    <span>
                        {{stats_archive.primarystat}}
                    </span>
                </div>
                <div class="border col-2 {{ui.primary_archive}}">
                    <span class="font-weight-bold">
                        Primary Stat Delta
                    </span>
                    <br />
                    <span>
                        {{stats_archive.primarystatDelta}}
                    </span>
                </div>
                <div class="border col-1 {{ui.primary_archive}}">
                    <span class="font-weight-bold">
                        f(WD)
                    </span>
                    <br />
                    <span>
                        {{stats_archive.fweapondamage}}
                    </span>
                </div>
                <div class="border col-1 {{ui.primary_archive}}">
                    <span class="font-weight-bold">
                        Attack Damage
                    </span>
                    <br />
                    <span>
                        {{stats_archive.attackdamage}}
                    </span>
                </div>
                <div class="border col-1 {{ui.primary_archive}}">
                    <span class="font-weight-bold">
                        Base Damage
                    </span>
                    <br />
                    <span>
                        {{stats_archive.baseDamage.toFixed(0)}}
                    </span>
                </div>
                <div class="col-1 {{ui.primary_archive}}">
                    <span class="font-weight-bold">
                        AA DPS
                    </span>
                    <br />
                    <span>
                        {{stats_archive.autoattackDPS.toFixed(0)}}
                    </span>
                </div>
                <div class="border col-2 {{ui.primary_archive}}">
                    <span class="font-weight-bold">
                        Base DPS
                    </span>
                    <br />
                    <span>
                        {{stats_archive.baseDPS.toFixed(0)}}
                    </span>
                </div>
            </div>
            <div class="row">
                <div class="border col-2 {{ui.critical_archive}}">
                    <span class="font-weight-bold">
                        Critical Hit Difference
                    </span>
                    <br />
                    <span>
                        {{stats_archive.criticalDelta - stats_main.criticalDelta}}
                    </span>
                </div>
                <div class="border col-2 {{ui.critical_archive}}">
                    <span class="font-weight-bold">
                        Critical Hit
                    </span>
                    <br />
                    <span>
                        {{stats_archive.critical}}
                    </span>
                </div>
                <div class="border col-2 {{ui.critical_archive}}">
                    <span class="font-weight-bold">
                        Critical Hit Delta
                    </span>
                    <br />
                    <span>
                        {{stats_archive.criticalDelta}}
                    </span>
                </div>
                <div class="border col-1 {{ui.critical_archive}}">
                    <span class="font-weight-bold">
                        Rate
                    </span>
                    <br />
                    <span>
                        {{stats_archive.criticalRate.toFixed(2)}}%
                    </span>
                </div>
                <div class="border col-1 {{ui.critical_archive}}">
                    <span class="font-weight-bold">
                        Damage
                    </span>
                    <br />
                    <span>
                        {{stats_archive.criticalDamage.toFixed(2)}}%
                    </span>
                </div>
                <div class="col-1">
                </div>
                <div class="border col-1 {{ui.critical_archive}}">
                    <span class="font-weight-bold">
                        Critical Hit DPS
                    </span>
                    <br />
                    <span>
                        {{stats_archive.criticalDPS.toFixed(2)}}%
                    </span>
                </div>
                <div class="col-2">
                </div>
            </div>
            <div class="row">
                <div class="border col-2 {{ui.determination_archive}}">
                    <span class="font-weight-bold">
                        Determination Difference
                    </span>
                    <br />
                    <span>
                        {{stats_archive.determinationDelta - stats_main.determinationDelta}}
                    </span>
                </div>
                <div class="border col-2 {{ui.determination_archive}}">
                    <span class="font-weight-bold">
                        Determination
                    </span>
                    <br />
                    <span>
                        {{stats_archive.determination}}
                    </span>
                </div>
                <div class="border col-2 {{ui.determination_archive}}">
                    <span class="font-weight-bold">
                        Determination Delta
                    </span>
                    <br />
                    <span>
                        {{stats_archive.determinationDelta}}
                    </span>
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="border col-1 {{ui.determination_archive}}">
                    <span class="font-weight-bold">
                        Det DPS
                    </span>
                    <br />
                    <span>
                        {{((stats_archive.determinationDPS - 1) * 100).toFixed(3)}}%
                    </span>
                </div>
                <div class="col-2">
                </div>
            </div>
            <div class="row">
                <div class="border col-2 {{ui.directhit_archive}}">
                    <span class="font-weight-bold">
                        Direct Hit Difference
                    </span>
                    <br />
                    <span>
                        {{stats_archive.directhitDelta - stats_main.directhitDelta}}
                    </span>
                </div>
                <div class="border col-2 {{ui.directhit_archive}}">
                    <span class="font-weight-bold">
                        Direct Hit
                    </span>
                    <br />
                    <span>
                        {{stats_archive.directhit}}
                    </span>
                </div>
                <div class="border col-2 {{ui.directhit_archive}}">
                    <span class="font-weight-bold">
                        Direct Hit Delta
                    </span>
                    <br />
                    <span>
                        {{stats_archive.directhitDelta}}
                    </span>
                </div>
                <div class="border col-1 {{ui.directhit_archive}}">
                    <span class="font-weight-bold">
                        Rate
                    </span>
                    <br />
                    <span>
                        {{stats_archive.directhitRate.toFixed(2)}}%
                    </span>
                </div>
                <div class="border col-1 {{ui_color.info}}">
                    <span class="font-weight-bold">
                        Damage
                    </span>
                    <br />
                    <span>
                        {{base_stats.directhitBaseDamage}}%
                    </span>
                </div>
                <div class="col-1">
                </div>
                <div class="border col-1 {{ui.directhit_archive}}">
                    <span class="font-weight-bold">
                        Direct Hit DPS
                    </span>
                    <br />
                    <span>
                        {{stats_archive.directhitDPS.toFixed(2)}}%
                    </span>
                </div>
                <div class="col-2">
                </div>
            </div>
            <div class="row">
                <div class="border col-2 {{ui.skillspeed_archive}}">
                    <span class="font-weight-bold">
                        Skill/Spell Speed Difference
                    </span>
                    <br />
                    <span>
                        {{stats_archive.skillspeedDelta - stats_main.skillspeedDelta}}
                    </span>
                </div>
                <div class="border col-2 {{ui.skillspeed_archive}}">
                    <span class="font-weight-bold">
                        Skill/Spell Speed
                    </span>
                    <br />
                    <span>
                        {{stats_archive.skillspeed}}
                    </span>
                </div>
                <div class="border col-2 {{ui.skillspeed_archive}}">
                    <span class="font-weight-bold">
                        Skill/Spell Speed Delta
                    </span>
                    <br />
                    <span>
                        {{stats_archive.skillspeedDelta}}
                    </span>
                </div>
                <div class="border col-1 {{ui.skillspeed_archive}}">
                    <span class="font-weight-bold">
                        Delay
                    </span>
                    <br />
                    <span>
                        {{stats_archive.skillspeedDelay}}
                    </span>
                </div>
                <div class="border col-1">
                    <span class="font-weight-bold">
                        Hits
                    </span>
                    <br />
                    <span>
                        {{stats_archive.skillspeedHits}}
                    </span>
                </div>
                <div class="col-1">
                </div>
                <div class="border col-1 {{ui.skillspeed_archive}}">
                    <span class="font-weight-bold">
                        SKS DPS
                    </span>
                    <br />
                    <span>
                        {{stats_archive.skillspeedDPSImprovement.toFixed(2)}}%
                    </span>
                </div>
                <div class="col-2">
                </div>
            </div>
            <div class="row">
                <div class="border col-2 {{ui.tenacity_archive}}">
                    <span class="font-weight-bold">
                        Tenacity Difference
                    </span>
                    <br />
                    <span>
                        {{stats_archive.tenacityDelta - stats_main.tenacityDelta}}
                    </span>
                </div>
                <div class="border col-2 {{ui.tenacity_archive}}">
                    <span class="font-weight-bold">
                        Tenacity
                    </span>
                    <br />
                    <span>
                        {{stats_archive.tenacity}}
                    </span>
                </div>
                <div class="border col-2 {{ui.tenacity_archive}}">
                    <span class="font-weight-bold">
                        Tenacity Delta
                    </span>
                    <br />
                    <span>
                        {{stats_archive.tenacityDelta}}
                    </span>
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="border col-1 {{ui.tenacity_archive}}">
                    <span class="font-weight-bold">
                        Tenacity DPS
                    </span>
                    <br />
                    <span>
                        {{((stats_archive.tenacityDPS - 1) * 100).toFixed(3)}}%
                    </span>
                </div>
                <div class="col-2">
                </div>
            </div>
            <div class="row">
                <div class="border col-2 {{ui.total_archive}}">
                    <span class="font-weight-bold">
                        Total DPS Difference
                    </span>
                    <br />
                    <span>{{(stats_archive.totaldps - stats_main.totaldps).toFixed(2)}}%</span>
                </div>
                <div class="col-2">
                    <span class="font-weight-bold">
                        {{stats_archive.food_selected.name}}
                    </span>
                    <br />
                    <span>
                        {{stats_archive.food_stat1}}
                    </span>
                    <span>
                        {{stats_archive.food_value1}}
                    </span>
                    <br />
                    <span>
                        {{stats_archive.food_stat2}}
                    </span>
                    <span>
                        {{stats_archive.food_value2}}
                    </span>
                </div>
                <div class="border col-2 {{ui_color.info}}">
                    <span class="font-weight-bold">
                        Level Primary:
                    </span>
                    <span>
                        {{base_stats.levelPrimary}}
                    </span>
                    <br />
                    <span class="font-weight-bold">
                        Level Secondary:
                    </span>
                    <span>
                        {{base_stats.levelSecondary}}
                    </span>
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="col-1">
                </div>
                <div class="border col-1 {{ui.total_archive}}">
                    <span class="font-weight-bold">
                        Total DPS
                    </span>
                    <br />
                    <span>
                        {{stats_archive.totaldps.toFixed(2)}}%
                    </span>
                </div>
                <div class="border col-2 {{ui.total_archive}}">
                    <span class="font-weight-bold">
                        Total Base DPS
                    </span>
                    <br />
                    <span>
                        {{stats_archive.baseTotal.toFixed(2)}}
                    </span>
                </div>
            </div>
        </div>
    </div>
</body>
</html>